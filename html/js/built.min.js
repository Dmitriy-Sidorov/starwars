window.onload=function(){var i,a=[{id:1,name:"Darth Vader",post:"Supreme Commander",image:"darthvader.png"},{id:2,name:"Wilhuf Tarkin",post:"Grand Moff",image:"wilhuftarkin.png",parent:1},{id:3,name:"Olson Krennic",post:"Director",image:"olsonkrennic.png",parent:1},{id:4,name:"Esmin Kesig",post:"Admiral",image:"esminkesig.png",parent:1},{id:5,name:"Phasma",post:"Captain",image:"phasma.png",parent:2},{id:6,name:"Will Shepard",post:"Commander",image:"willshepard.png",parent:2},{id:7,name:"Allin Prohq",post:"Ensign",image:"allinprohq.png",parent:2},{id:8,name:"Jah Batut",post:"Admiral",image:"jahbatut.png",parent:2},{id:9,name:"FN-23",post:"Soldier",image:"stromtrooper.png",parent:2},{id:10,name:"FN-24",post:"Soldier",image:"stromtrooper.png",parent:2},{id:11,name:"FN-25",post:"Soldier",image:"stromtrooper.png",parent:2},{id:12,name:"FN-26",post:"Soldier",image:"stromtrooper.png",parent:2},{id:13,name:"RN-46",post:"Soldier",image:"stromtrooper2.png",parent:2},{id:14,name:"RN-36",post:"Soldier",image:"stromtrooper2.png",parent:2},{id:15,name:"Darth Sidius",post:"Galactic Emperor",image:"darthsidius.png"},{id:16,name:"PN-65",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:17,name:"PN-66",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:18,name:"PN-67",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:19,name:"TN-11",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:20,name:"TN-12",post:"Soldier",image:"stromtrooper.png",parent:3},{id:21,name:"TN-13",post:"Soldier",image:"stromtrooper.png",parent:3},{id:22,name:"TN-14",post:"Soldier",image:"stromtrooper.png",parent:3},{id:23,name:"WN-23",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:24,name:"WN-24",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:25,name:"WN-25",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:26,name:"WN-26",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:27,name:"KN-19",post:"Soldier",image:"stromtrooper.png",parent:4},{id:28,name:"KN-20",post:"Soldier",image:"stromtrooper.png",parent:4},{id:29,name:"KN-21",post:"Soldier",image:"stromtrooper.png",parent:4},{id:30,name:"KN-22",post:"Soldier",image:"stromtrooper.png",parent:4}],e=[],d=[],r=[];for(function(){var t="",n="",s="",o="";for(i=0;i<a.length;i++){void 0===a[i].parent&&(a[i].parent=0),e[i]=a[i].parent,d[i]=a[i].name,r[i]=a[i].post;var p=Math.min.apply(null,e);o='<div id="priority'+(a[0].id-1)+'" data-parent-id="'+(e[0]-1)+'" class="hidden"><div class="ava"><img src="assets/avatars/empire.png" alt="Galactic Empire"></div><h1>Galactic Empire</h1><span>Imperial military</span></div>',t+='<div id="priority'+a[i].id+'" data-id="'+a[i].id+'" data-parent-id="'+e[i]+'" data-post="'+r[i]+'" data-name="'+d[i]+'" class="hidden"><div class="ava"><img src="assets/avatars/'+a[i].image+'" alt="'+a[i].name+'"></div><h1>'+a[i].name+"</h1><span>"+a[i].post+"</span></div>","Darth Sidius"===d[i]&&e[i]===p?n+='<div id="soldier'+a[i].id+'" data-id="'+a[i].id+'" data-parent-id="'+e[i]+'" data-post="'+r[i]+'" data-name="'+d[i]+'" class="col-lg-6 person hidden"><div class="cursor"><div id="indent'+a[i].id+'" class="indent"><div class="number"><span id="length'+a[i].id+'"></span></div></div><div class="ava"><img src="assets/avatars/'+a[i].image+'" alt="'+a[i].name+'"><div class="img-hover"></div></div><div class="name"><h2>'+a[i].name+"</h2><span>"+a[i].post+"</span></div></div></div>":s+='<div id="soldier'+a[i].id+'" data-id="'+a[i].id+'" data-parent-id="'+e[i]+'" data-post="'+r[i]+'" data-name="'+d[i]+'" class="col-lg-6 person hidden"><div class="cursor"><div id="indent'+a[i].id+'" class="indent"><div class="number"><span id="length'+a[i].id+'"></span></div></div><div class="ava"><img src="assets/avatars/'+a[i].image+'" alt="'+a[i].name+'"><div class="img-hover"></div></div><div class="name"><h2>'+a[i].name+"</h2><span>"+a[i].post+"</span></div></div></div>"}v("#outpriority").innerHTML=o+t,v("#out").innerHTML=n+s}(),h(),i=0;i<a.length;i++){var t=v("#soldier"+a[i].id).dataset,n=v("#back"),s=v("#prev"),o=v("#next"),p=Math.max.apply(null,e),l=Math.min.apply(null,e),m=v("#indent"+a[i].id);function c(d){for(i=a.length-1;i>=0;i--)if(i<d&&a[d].parent===e[i]){var r=i;return[v("#priority"+a[i].id),r]}for(i=a.length-1;i>=d;i--)if(i!==d&&a[d].parent===e[i])return r=i,[v("#priority"+a[i].id),r];return!1}function g(d){for(i=d;i<a.length;i++)if(i>d&&a[d].parent===e[i]){var r=i;return[v("#priority"+a[i].id),r]}for(i=0;i<d;i++)if(i!==d&&a[d].parent===e[i])return r=i,[v("#priority"+a[i].id),r];return!1}"Darth Sidius"!==t.name&&t.parentId!==String(p)||m.classList.add("hidden"),v("#logo").onclick=h,v("#soldier"+a[i].id).onclick=function(){for(i=0;i<a.length;i++){var e=v("#priority0");for("priority0"===e.id&&(e.classList.add("hidden"),n.classList.remove("hidden"),s.classList.remove("hidden"),o.classList.remove("hidden")),i=0;i<a.length;i++){var d=v("#priority"+a[i].id),r=v("#soldier"+a[i].id);d.classList.add("hidden"),r.classList.add("hidden")}for(i=0;i<a.length;i++){var t=v("#priority"+a[i].id);if(this.id==="soldier"+a[i].id){var p=i;t.classList.remove("hidden"),L(p)}}}},n.onclick=function(){for(i=0;i<a.length;i++){var e=v("#priority"+a[i].id),d=e.dataset,r=Number(d.parentId);if(!1===e.classList.contains("hidden"))for(i=0;i<a.length;i++){var t=v("#priority"+a[i].id),p=v("#soldier"+a[i].id),m=p.dataset;p.classList.add("hidden"),m.parentId===String(r)&&(t.classList.add("hidden"),p.classList.remove("hidden"),m.parentId===String(l)&&(n.classList.add("hidden"),s.classList.add("hidden"),o.classList.add("hidden")))}}for(i=0;i<a.length;i++){if((t=v("#priority"+i)).dataset.parentId===String(r-1)){t.classList.remove("hidden");break}}},s.onclick=function(){for(i=0;i<a.length;i++){var e=v("#priority"+a[i].id);if(!1===e.classList.contains("hidden")){var d=c(i);if(d[0]){e.classList.add("hidden"),d[0].classList.remove("hidden"),L(d[1]);break}break}}},o.onclick=function(){for(i=0;i<a.length;i++){var e=v("#priority"+a[i].id);if(!1===e.classList.contains("hidden")){var d=g(i);if(d[0]){e.classList.add("hidden"),d[0].classList.remove("hidden"),L(d[1]);break}break}}}}function h(){for(i=0;i<a.length;i++){var d=v("#priority0"),r=d.dataset,t=v("#priority"+a[i].id),n=v("#soldier"+a[i].id),s=n.dataset,o=v("#back"),p=v("#prev"),l=v("#next"),m=Math.min.apply(null,e);d.classList.add("hidden"),t.classList.add("hidden"),n.classList.add("hidden"),r.parentId===String(m-1)&&(d.classList.remove("hidden"),o.classList.add("hidden"),p.classList.add("hidden"),l.classList.add("hidden")),s.parentId===String(m)&&n.classList.remove("hidden")}f()}function v(i){return document.querySelector(i)}function f(){for(i=0;i<a.length;i++){var e=v("#soldier"+a[i].id),d=e.dataset;if(!1===e.classList.contains("hidden")){u(Number(d.parentId));break}}}function u(e){var d=[];for(i=0;i<a.length;i++){var r=v("#soldier"+a[i].id),t=r.dataset;r.classList.contains("hidden")&&t.parentId>e&&(d[i]=a[i].id)}var n=(d=d.filter(Number)).length;for(i=0;i<a.length;i++){r=v("#soldier"+a[i].id);var s=v("#length"+a[i].id);!1===r.classList.contains("hidden")&&(s.innerHTML=n)}}function L(e){var d=v("#indent"+a[e].id),r=v("#priority"+a[e].id),t=v("#soldier"+a[e].id).dataset;if(d.classList.contains("hidden")&&!1===r.classList.contains("hidden"))for(i=0;i<a.length;i++){var n=v("#soldier"+a[i].id);n.classList.add("hidden")}else{var s=Number(t.parentId),o=s+1;for(i=0;i<a.length;i++){var p=(n=v("#soldier"+a[i].id)).dataset;t.parentId===String(s)&&(n.classList.add("hidden"),p.parentId===String(o)&&n.classList.remove("hidden"))}f()}}};