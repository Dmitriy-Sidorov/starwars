window.onload=function(){var i=[{id:1,name:"Darth Vader",post:"Supreme Commander",image:"darthvader.png"},{id:2,name:"Wilhuf Tarkin",post:"Grand Moff",image:"wilhuftarkin.png",parent:1},{id:3,name:"Olson Krennic",post:"Director",image:"olsonkrennic.png",parent:1},{id:4,name:"Esmin Kesig",post:"Admiral",image:"esminkesig.png",parent:1},{id:5,name:"Phasma",post:"Captain",image:"phasma.png",parent:2},{id:6,name:"Will Shepard",post:"Commander",image:"willshepard.png",parent:2},{id:7,name:"Allin Prohq",post:"Ensign",image:"allinprohq.png",parent:2},{id:8,name:"Jah Batut",post:"Admiral",image:"jahbatut.png",parent:2},{id:9,name:"FN-23",post:"Soldier",image:"stromtrooper.png",parent:2},{id:10,name:"FN-24",post:"Soldier",image:"stromtrooper.png",parent:2},{id:11,name:"FN-25",post:"Soldier",image:"stromtrooper.png",parent:2},{id:12,name:"FN-26",post:"Soldier",image:"stromtrooper.png",parent:2},{id:13,name:"RN-46",post:"Soldier",image:"stromtrooper2.png",parent:2},{id:14,name:"RN-36",post:"Soldier",image:"stromtrooper2.png",parent:2},{id:15,name:"Darth Sidius",post:"Galactic Emperor",image:"darthsidius.png"},{id:16,name:"PN-65",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:17,name:"PN-66",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:18,name:"PN-67",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:19,name:"TN-11",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:20,name:"TN-12",post:"Soldier",image:"stromtrooper.png",parent:3},{id:21,name:"TN-13",post:"Soldier",image:"stromtrooper.png",parent:3},{id:22,name:"TN-14",post:"Soldier",image:"stromtrooper.png",parent:3},{id:23,name:"WN-23",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:24,name:"WN-24",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:25,name:"WN-25",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:26,name:"WN-26",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:27,name:"KN-19",post:"Soldier",image:"stromtrooper.png",parent:4},{id:28,name:"KN-20",post:"Soldier",image:"stromtrooper.png",parent:4},{id:29,name:"KN-21",post:"Soldier",image:"stromtrooper.png",parent:4},{id:30,name:"KN-22",post:"Soldier",image:"stromtrooper.png",parent:4},{id:31,name:"Soldier 31",post:"parent 15",image:"stromtrooper.png",parent:15},{id:32,name:"Soldier 32",post:"parent 15",image:"stromtrooper.png",parent:15},{id:33,name:"Soldier 33",post:"parent 31",image:"stromtrooper.png",parent:31},{id:34,name:"Soldier 34",post:"parent 32",image:"stromtrooper.png",parent:32},{id:35,name:"Soldier 35",post:"parent 32",image:"stromtrooper.png",parent:32},{id:36,name:"Soldier 36",post:"parent 5",image:"stromtrooper.png",parent:5}],e=0,a=[],r=[],t=[];for(function(){var n="",d="",s="",o="";for(e=0;e<i.length;e++){void 0===i[e].parent&&(i[e].parent=0),a[e]=i[e].parent,r[e]=i[e].name,t[e]=i[e].post,o='<div id="priority'+(i[0].id-1)+'" data-parent-id="'+(a[0]-1)+'" class="hidden"><div class="ava"><img src="assets/avatars/empire.png" alt="Galactic Empire"></div><h1>Galactic Empire</h1><span>Imperial military</span></div>',n+='<div id="priority'+i[e].id+'" data-id="'+i[e].id+'" data-parent-id="'+a[e]+'" data-post="'+t[e]+'" data-name="'+r[e]+'" class="hidden"><div class="ava"><img src="assets/avatars/'+i[e].image+'" alt="'+i[e].name+'"></div><h1>'+i[e].name+"</h1><span>"+i[e].post+"</span></div>";var p='<div id="soldier'+i[e].id+'" data-id="'+i[e].id+'" data-parent-id="'+a[e]+'" data-post="'+t[e]+'" data-name="'+r[e]+'" class="col-lg-two person hidden"><div class="align"><div class="ava"><div id="indent'+i[e].id+'" class="indent"><div class="number"><span id="length'+i[e].id+'"></span></div></div><img src="assets/avatars/'+i[e].image+'" alt="'+i[e].name+'"><div class="img-hover"></div></div><div class="name"><h2>'+i[e].name+"</h2><span>"+i[e].post+"</span></div></div></div>";"Darth Sidius"===r[e]?d+=p:s+=p}v("#outpriority").innerHTML=o+n,v("#out").innerHTML=d+s}(),m(),e=0;e<i.length;e++){var n=v("#soldier"+i[e].id).dataset,d=v("#back"),s=v("#prev"),o=v("#next"),p=Math.min.apply(null,a);v("#length"+i[e].id).innerHTML=l(Number(n.id)),v("#logo").onclick=m,v("#soldier"+i[e].id).onclick=function(){for(e=0;e<i.length;e++){var a=v("#priority0");for("priority0"===a.id&&(a.classList.add("hidden"),d.classList.remove("hidden"),s.classList.remove("hidden"),o.classList.remove("hidden")),e=0;e<i.length;e++){var r=v("#priority"+i[e].id),t=v("#soldier"+i[e].id);r.classList.add("hidden"),t.classList.add("hidden")}for(e=0;e<i.length;e++){var n=v("#priority"+i[e].id);if(this.id==="soldier"+i[e].id){var p=e;n.classList.remove("hidden"),g(p)}}}},d.onclick=function(){for(e=0;e<i.length;e++){var a=v("#priority"+i[e].id),r=a.dataset.parentId;if(!1===a.classList.contains("hidden"))for(e=0;e<i.length;e++){var t=v("#priority"+i[e].id),n=v("#soldier"+i[e].id),m=n.dataset;n.classList.add("hidden"),r===m.parentId&&(t.classList.add("hidden"),n.classList.remove("hidden"))}}for(e=0;e<i.length;e++){var l=(t=v("#priority"+i[e].id)).dataset;if(r===String(p)){v("#priority0").classList.remove("hidden"),d.classList.add("hidden"),s.classList.add("hidden"),o.classList.add("hidden");break}r===l.id&&t.classList.remove("hidden")}},s.onclick=function(){for(e=0;e<i.length;e++){var a=v("#priority"+i[e].id);if(!1===a.classList.contains("hidden")){var r=c(e);if(r[0]){a.classList.add("hidden"),r[0].classList.remove("hidden"),g(r[1]);break}break}}},o.onclick=function(){for(e=0;e<i.length;e++){var a=v("#priority"+i[e].id);if(!1===a.classList.contains("hidden")){var r=h(e);if(r[0]){a.classList.add("hidden"),r[0].classList.remove("hidden"),g(r[1]);break}break}}}}function m(){for(e=0;e<i.length;e++){var r=v("#priority0"),t=r.dataset,n=v("#priority"+i[e].id),d=v("#soldier"+i[e].id),s=d.dataset,o=v("#back"),p=v("#prev"),m=v("#next"),l=Math.min.apply(null,a);r.classList.add("hidden"),n.classList.add("hidden"),d.classList.add("hidden"),t.parentId===String(l-1)&&(r.classList.remove("hidden"),o.classList.add("hidden"),p.classList.add("hidden"),m.classList.add("hidden")),s.parentId===String(l)&&d.classList.remove("hidden")}}function l(e){for(var r=0,t=0;t<i.length;t++)a[t]===e&&(r++,r+=l(i[t].id));return console.log(r),r}function g(a){var r=v("#indent"+i[a].id),t=v("#priority"+i[a].id),n=t.dataset;if(r.classList.contains("hidden")&&!1===t.classList.contains("hidden"))for(e=0;e<i.length;e++){var d=v("#soldier"+i[e].id);d.classList.add("hidden")}else{var s=Number(n.parentId),o=i[a].id;for(e=0;e<i.length;e++){var p=(d=v("#soldier"+i[e].id)).dataset;n.parentId===String(s)&&(d.classList.add("hidden"),p.parentId===String(o)&&d.classList.remove("hidden"))}}}function c(r){for(e=i.length-1;e>=0;e--)if(e<r&&i[r].parent===a[e]){var t=e;return[v("#priority"+i[e].id),t]}for(e=i.length-1;e>=r;e--)if(e!==r&&i[r].parent===a[e])return t=e,[v("#priority"+i[e].id),t];return!1}function h(r){for(e=r;e<i.length;e++)if(e>r&&i[r].parent===a[e]){var t=e;return[v("#priority"+i[e].id),t]}for(e=0;e<r;e++)if(e!==r&&i[r].parent===a[e])return t=e,[v("#priority"+i[e].id),t];return!1}function v(i){return document.querySelector(i)}};