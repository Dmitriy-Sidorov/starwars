window.onload=function(){var e,i=[{id:1,name:"Darth Vader",post:"Supreme Commander",image:"darthvader.png"},{id:2,name:"Wilhuf Tarkin",post:"Grand Moff",image:"wilhuftarkin.png",parent:1},{id:3,name:"Olson Krennic",post:"Director",image:"olsonkrennic.png",parent:1},{id:4,name:"Esmin Kesig",post:"Admiral",image:"esminkesig.png",parent:1},{id:5,name:"Phasma",post:"Captain",image:"phasma.png",parent:2},{id:6,name:"Will Shepard",post:"Commander",image:"willshepard.png",parent:2},{id:7,name:"Allin Prohq",post:"Ensign",image:"allinprohq.png",parent:2},{id:8,name:"Jah Batut",post:"Admiral",image:"jahbatut.png",parent:2},{id:9,name:"FN-23",post:"Soldier",image:"stromtrooper.png",parent:2},{id:10,name:"FN-24",post:"Soldier",image:"stromtrooper.png",parent:2},{id:11,name:"FN-25",post:"Soldier",image:"stromtrooper.png",parent:2},{id:12,name:"FN-26",post:"Soldier",image:"stromtrooper.png",parent:2},{id:13,name:"RN-46",post:"Soldier",image:"stromtrooper2.png",parent:2},{id:14,name:"RN-36",post:"Soldier",image:"stromtrooper2.png",parent:2},{id:15,name:"Darth Sidius",post:"Galactic Emperor",image:"darthsidius.png"},{id:16,name:"PN-65",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:17,name:"PN-66",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:18,name:"PN-67",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:19,name:"TN-11",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:20,name:"TN-12",post:"Soldier",image:"stromtrooper.png",parent:3},{id:21,name:"TN-13",post:"Soldier",image:"stromtrooper.png",parent:3},{id:22,name:"TN-14",post:"Soldier",image:"stromtrooper.png",parent:3},{id:23,name:"WN-23",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:24,name:"WN-24",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:25,name:"WN-25",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:26,name:"WN-26",post:"Soldier",image:"stromtrooper2.png",parent:3},{id:27,name:"KN-19",post:"Soldier",image:"stromtrooper.png",parent:4},{id:28,name:"KN-20",post:"Soldier",image:"stromtrooper.png",parent:4},{id:29,name:"KN-21",post:"Soldier",image:"stromtrooper.png",parent:4},{id:30,name:"KN-22",post:"Soldier",image:"stromtrooper.png",parent:4}],d="",r="",t="",a=[],n=[],s=[],o=[];for(e=0;e<i.length;e++)o[e]=i[e].id;for(o.reverse(),function(){for(e=0;e<i.length;e++)void 0===i[e].parent&&(i[e].parent=0),a[e]=i[e].parent,n[e]=i[e].name,s[e]=i[e].post,t='<div id="priority'+(i[0].id-1)+'" data-priority-id="'+(a[0]-1)+'" class="hidden"><div class="ava"><img src="assets/avatars/empire.png" alt="Galactic Empire"></div><h1>Galactic Empire</h1><span>Imperial military</span></div>',d+='<div id="priority'+i[e].id+'" data-id="'+i[e].id+'" data-priority-id="'+a[e]+'" data-post="'+s[e]+'" data-name="'+n[e]+'" class="hidden"><div class="ava"><img src="assets/avatars/'+i[e].image+'" alt="'+i[e].name+'"></div><h1>'+i[e].name+"</h1><span>"+i[e].post+"</span></div>",r+='<div id="soldier'+i[e].id+'" data-id="'+i[e].id+'" data-person-id="'+a[e]+'" data-post="'+s[e]+'" data-name="'+n[e]+'" class="col-lg-6 person hidden"><div class="cursor"><div id="indent'+i[e].id+'" class="indent"><div class="number"><span id="length'+i[e].id+'">'+(o[e]-1)+'</span></div></div><div class="ava"><img src="assets/avatars/'+i[e].image+'" alt="'+i[e].name+'"><div class="img-hover"></div></div><div class="name"><h2>'+i[e].name+"</h2><span>"+i[e].post+"</span></div></div></div>";document.querySelector("#outpriority").innerHTML=t+d,document.querySelector("#out").innerHTML=r}(),e=0;e<i.length;e++){var l=document.querySelector("#priority"+e),p=l.dataset,m=document.querySelector("#soldier"+i[e].id),c=m.dataset,g=Math.max.apply(null,a),h=Math.min.apply(null,a),u=document.querySelector("#back"),v=document.querySelector("#onwards"),S=document.querySelector("#prev"),y=document.querySelector("#next");p.priorityId===String(h-1)&&(l.classList.remove("hidden"),u.classList.add("hidden"),v.classList.add("hidden"),S.classList.add("hidden"),y.classList.add("hidden")),c.personId===String(h)&&m.classList.remove("hidden");var L=document.querySelector("#indent"+i[e].id);function f(d){var r=null;for(e=0;e<i.length+1;e++)if(i[e].id===d){r=e;break}if(r===i.length-1)return!0;for(e=0;e<r;e++)if(i[r].parent===a[e])return!1;return!0}function q(d){if(d===i.length-1)return!0;for(e=i.length-1;e>=0;e--)if(e!==d&&i[d].parent===a[e])return document.querySelector("#priority"+i[e].id);return!1}"Darth Sidius"!==c.name&&c.personId!==String(g)||L.classList.add("hidden"),document.querySelector("#logo").onclick=function(){for(e=0;e<i.length;e++){var d=document.querySelector("#priority"+e),r=d.dataset,t=document.querySelector("#soldier"+i[e].id),n=t.dataset,s=(Math.max.apply(null,a),Math.min.apply(null,a)),o=document.querySelector("#prev"),l=document.querySelector("#next");r.priorityId&&d.classList.add("hidden"),n.personId&&t.classList.add("hidden"),r.priorityId===String(s-1)&&(d.classList.remove("hidden"),u.classList.add("hidden"),v.classList.add("hidden"),o.classList.add("hidden"),l.classList.add("hidden")),n.personId===String(s)&&t.classList.remove("hidden")}},document.querySelector("#soldier"+i[e].id).onclick=function(){for(e=0;e<i.length;e++){var d=document.getElementById("priority0");for("priority0"===d.id&&(d.classList.add("hidden"),u.classList.remove("hidden"),v.classList.remove("hidden"),S.classList.remove("hidden"),y.classList.remove("hidden")),e=0;e<i.length;e++){var r=document.getElementById("priority"+i[e].id),t=document.getElementById("soldier"+i[e].id);r.id&&r.classList.add("hidden"),t.id&&t.classList.add("hidden")}for(e=0;e<i.length;e++){var a=document.getElementById("priority"+i[e].id),n=document.querySelector("#soldier"+i[e].id).dataset;if(this.id==="soldier"+i[e].id){a.classList.remove("hidden");var s=Number(n.personId),o=s+1;for(e=0;e<i.length;e++){var l=document.querySelector("#soldier"+i[e].id),p=l.dataset;n.personId===String(s)&&(l.classList.add("hidden"),p.personId===String(o)&&l.classList.remove("hidden"))}}}}},u.onclick=function(){for(e=0;e<i.length;e++){var d=document.querySelector("#soldier"+i[e].id),r=d.dataset,t=Number(r.personId)-1,n=t+1;if(r.personId===String(a[e])&&!1===d.classList.contains("hidden")){for(e=0;e<i.length;e++){var s=document.querySelector("#priority"+e),o=(s.dataset,document.querySelector("#soldier"+i[e].id)),l=o.dataset;s.classList.add("hidden"),o.classList.add("hidden"),r.personId===String(n)&&("priority0"===s.id&&(r.personId===String(h+1)?(u.classList.add("hidden"),v.classList.add("hidden"),S.classList.add("hidden"),y.classList.add("hidden")):(u.classList.remove("hidden"),v.classList.remove("hidden"),S.classList.remove("hidden"),y.classList.remove("hidden"))),l.personId===String(t)&&o.classList.remove("hidden"))}for(e=0;e<i.length;e++){var p=document.querySelector("#priority"+e);if(p.dataset.priorityId===String(t-1)){p.classList.remove("hidden");break}}break}}},v.onclick=function(){for(e=0;e<i.length;e++){var d=document.querySelector("#soldier"+i[e].id),r=d.dataset,t=Number(r.personId),a=t+1;if(r.personId===String(i[e].parent)&&!1===d.classList.contains("hidden")){for(e=0;e<i.length;e++){var n=document.getElementById("priority"+e),s=document.querySelector("#soldier"+i[e].id),o=s.dataset;n.classList.add("hidden"),s.classList.add("hidden"),y.classList.remove("hidden"),r.personId===String(t)&&(r.personId===String(g-1)?(u.classList.remove("hidden"),v.classList.add("hidden")):(u.classList.remove("hidden"),v.classList.remove("hidden")),o.personId===String(a)&&s.classList.remove("hidden"))}for(e=0;e<i.length;e++){var l=document.querySelector("#priority"+e);if(l.dataset.priorityId===String(t)){l.classList.remove("hidden");break}}break}}},S.onclick=function(){for(e=0;e<i.length;e++){var d=document.querySelector("#soldier"+i[e].id).dataset,r=document.querySelector("#priority"+i[e].id),t=r.dataset,a=i[e].id;if(t.id===String(a)&&!1===r.classList.contains("hidden")){for(e=0;e<i.length;e++){document.querySelector("#soldier"+i[e].id).dataset;var n=document.querySelector("#priority"+i[e].id),s=n.dataset;if(s.id===String(a-1)){for(n.classList.remove("hidden"),e=0;e<i.length;e++)if((s=(n=document.querySelector("#priority"+i[e].id)).dataset).id===String(a)){n.classList.add("hidden");break}break}}break}}var o=f(Number(d.id)-1),l=document.getElementById("prev");document.getElementById("next").classList.remove("hidden"),o?l.classList.add("hidden"):l.classList.remove("hidden")},y.onclick=function(){for(e=0;e<i.length;e++){document.querySelector("#soldier"+i[e].id).dataset;var d=document.querySelector("#priority"+i[e].id);d.dataset;if(!1===d.classList.contains("hidden")){var r=q(e);if(r){d.classList.add("hidden"),r.classList.remove("hidden"),console.log("получил результат");break}document.querySelector("#priority0").classList.remove("hidden"),console.log("не получил результат")}}}}};